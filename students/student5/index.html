<!-- register.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>회원가입</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>회원가입</h2>
  <form id="registerForm">
    <div>
      <label>아이디: <input type="text" id="regUsername" required></label>
    </div>
    <div>
      <label>비밀번호: <input type="password" id="regPassword" required></label>
    </div>
    <button type="submit">가입하기</button>
  </form>
  <div>
    <a href="login.html">로그인으로</a>
  </div>
  <script>
    document.getElementById('registerForm')
      .addEventListener('submit', function(event) {
        event.preventDefault();
        const username = document.getElementById('regUsername').value.trim();
        const password = document.getElementById('regPassword').value;

        if (!username || !password) {
          alert('아이디와 비밀번호 모두 입력해주세요.');
          return;
        }

        // 기존 사용자들 가져오기
        const usersJSON = localStorage.getItem('users') || '[]';
        const users = JSON.parse(usersJSON);

        // 이미 존재하는 아이디인지 확인
        if (users.find(u => u.username === username)) {
          alert('이미 존재하는 아이디입니다.');
          return;
        }

        // 새 사용자 추가
        users.push({ username, password });
        localStorage.setItem('users', JSON.stringify(users));

        alert('가입 성공, 로그인 페이지로 이동합니다.');
        window.location.href = 'login.html';
      });
  </script>
</body>
</html>
<!-- login.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>로그인</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>로그인</h2>
  <form id="loginForm">
    <div>
      <label>아이디: <input type="text" id="loginUsername" required></label>
    </div>
    <div>
      <label>비밀번호: <input type="password" id="loginPassword" required></label>
    </div>
    <button type="submit">로그인</button>
  </form>
  <div>
    <a href="register.html">회원가입으로</a>
  </div>
  <script>
    document.getElementById('loginForm')
      .addEventListener('submit', function(event) {
        event.preventDefault();
        const username = document.getElementById('loginUsername').value.trim();
        const password = document.getElementById('loginPassword').value;

        const usersJSON = localStorage.getItem('users') || '[]';
        const users = JSON.parse(usersJSON);

        const found = users.find(u => u.username === username && u.password === password);
        if (!found) {
          alert('아이디 또는 비밀번호가 틀렸습니다.');
          return;
        }

        // 로그인 상태 저장
        localStorage.setItem('loggedInUser', username);

        // 대시보드로 이동
        window.location.href = 'dashboard.html';
      });
  </script>
</body>
</html>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>대시보드 - 대나무숲</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="nav">
    <span id="welcomeText"></span>
    <button id="logoutBtn">로그아웃</button>
  </div>

  <div id="boardSection">
    <h2>학교 대나무숲</h2>

    <div id="searchSection">
      <input type="text" id="searchInput" placeholder="제목 또는 내용으로 검색">
      <button id="searchBtn">검색</button>
      <button id="showAllBtn">전체 보기</button>
    </div>

    <div id="postFormSection">
      <h3>글쓰기 (익명)</h3>
      <form id="postForm">
        <div>
          <label>제목: <input type="text" id="postTitle" required></label>
        </div>
        <div>
          <label>내용: <textarea id="postContent" required></textarea></label>
        </div>
        <button type="submit">작성</button>
      </form>
    </div>

    <div id="postsListSection">
      <ul id="postsList"></ul>
    </div>

    <div id="paginationSection"></div>
  </div>

  <script src="auth.js"></script>
  <script src="board.js"></script>
</body>
</html>
